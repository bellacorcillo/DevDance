{"ast":null,"code":"import _regeneratorRuntime from\"/Users/isabellacorcillo/Desktop/UNLV/lembasbreak/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/isabellacorcillo/Desktop/UNLV/lembasbreak/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/isabellacorcillo/Desktop/UNLV/lembasbreak/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/Users/isabellacorcillo/Desktop/UNLV/lembasbreak/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/isabellacorcillo/Desktop/UNLV/lembasbreak/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/isabellacorcillo/Desktop/UNLV/lembasbreak/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/isabellacorcillo/Desktop/UNLV/lembasbreak/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/isabellacorcillo/Desktop/UNLV/lembasbreak/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import axios from'axios';import'./login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.state={email:'',password:'',errorMessage:''};_this.handleInputChange=_this.handleInputChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"handleInputChange\",value:function handleInputChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;this.setState(_defineProperty({},name,value));}},{key:\"handleSubmit\",value:function(){var _handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return axios.post('http://localhost:5000/login/',{email:this.state.email,password:this.state.password});case 4:response=_context.sent;if(response.data.token){localStorage.setItem('token',response.data.token);console.log(response);window.location.href='/postlogin';}else{this.setState({errorMessage:'Login failed. Please check your credentials.'});}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);if(_context.t0.response){// The request was made and the server responded with a status code\nconsole.error('Error response from server:',_context.t0.response.data.message);this.setState({errorMessage:\"login failed: \".concat(_context.t0.response.data.message)});}else if(_context.t0.request){// The request was made but no response was received\nconsole.error('No response received:',_context.t0.request);this.setState({errorMessage:'login failed: No response from server'});}else{// Something happened in setting up the request that triggered an error\nconsole.error('Error setting up the request:',_context.t0.message);this.setState({errorMessage:\"login failed: \".concat(_context.t0.message)});}case 11:case\"end\":return _context.stop();}},_callee,this,[[1,8]]);}));function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}return handleSubmit;}()// async handleSubmit(event) {\n//     event.preventDefault();\n//     try {\n//         const response = await axios.post('http://localhost:5000/login/', {\n//             email: this.state.email,\n//             password: this.state.password,\n//         });\n//         if (response.status === 200) {\n//             localStorage.setItem('token', response.data.token);\n//             this.props.history.push('/home');\n//         } else {\n//             this.setState({ errorMessage: 'Login failed. Please check your credentials.' });\n//         }\n//     } catch (error) {\n//         this.setState({ errorMessage: 'Login failed. Please check your credentials.' });\n//     }\n// }\n},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),this.state.errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:this.state.errorMessage}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:this.state.email,onChange:this.handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:this.state.password,onChange:this.handleInputChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})]})]});}}]);return Login;}(React.Component);export default Login;","map":{"version":3,"names":["React","axios","jsx","_jsx","jsxs","_jsxs","Login","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","email","password","errorMessage","handleInputChange","bind","_assertThisInitialized","handleSubmit","_createClass","key","value","event","_event$target","target","name","setState","_defineProperty","_handleSubmit","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","preventDefault","post","sent","data","token","localStorage","setItem","console","log","window","location","href","t0","error","message","concat","request","stop","_x","apply","arguments","render","className","children","onSubmit","type","onChange","required","Component"],"sources":["/Users/isabellacorcillo/Desktop/UNLV/lembasbreak/frontend/src/components/login.js"],"sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport './login.css';\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: '',\n            password: '',\n            errorMessage: '',\n        };\n\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleInputChange(event) {\n        const { name, value } = event.target;\n        this.setState({ [name]: value });\n    }\n\n    async handleSubmit(event) {\n        event.preventDefault();\n\n        try {\n            \n            const response = await axios.post('http://localhost:5000/login/', {\n                email: this.state.email,\n                password: this.state.password,\n            });\n            \n            if(response.data.token){\n                localStorage.setItem('token', response.data.token);\n                console.log(response);\n                window.location.href = '/postlogin';\n            }\n            else{\n                this.setState({ errorMessage: 'Login failed. Please check your credentials.' });\n            }\n        } catch (error) {\n            if (error.response) {\n                // The request was made and the server responded with a status code\n                console.error('Error response from server:', error.response.data.message);\n                this.setState({ errorMessage: `login failed: ${error.response.data.message}` });\n              } else if (error.request) {\n                // The request was made but no response was received\n                console.error('No response received:', error.request);\n                this.setState({ errorMessage: 'login failed: No response from server' });\n              } else {\n                // Something happened in setting up the request that triggered an error\n                console.error('Error setting up the request:', error.message);\n                this.setState({ errorMessage: `login failed: ${error.message}` });\n              }\n        }\n    }\n    // async handleSubmit(event) {\n    //     event.preventDefault();\n    \n    //     try {\n    //         const response = await axios.post('http://localhost:5000/login/', {\n    //             email: this.state.email,\n    //             password: this.state.password,\n    //         });\n    \n    //         if (response.status === 200) {\n    //             localStorage.setItem('token', response.data.token);\n    //             this.props.history.push('/home');\n    //         } else {\n    //             this.setState({ errorMessage: 'Login failed. Please check your credentials.' });\n    //         }\n    //     } catch (error) {\n    //         this.setState({ errorMessage: 'Login failed. Please check your credentials.' });\n    //     }\n    // }\n\n    render() {\n        return (\n            <div className=\"login-container\">\n                <h2>Login</h2>\n                {this.state.errorMessage && <p className=\"error\">{this.state.errorMessage}</p>}\n                <form onSubmit={this.handleSubmit}>\n                    <div className=\"input-group\">\n                        <label>Email:</label>\n                        <input \n                            type=\"email\" \n                            name=\"email\" \n                            value={this.state.email}\n                            onChange={this.handleInputChange}\n                            required \n                        />\n                    </div>\n                    <div className=\"input-group\">\n                        <label>Password:</label>\n                        <input \n                            type=\"password\" \n                            name=\"password\" \n                            value={this.state.password}\n                            onChange={this.handleInputChange}\n                            required \n                        />\n                    </div>\n                    <button type=\"submit\">Login</button>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default Login;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}